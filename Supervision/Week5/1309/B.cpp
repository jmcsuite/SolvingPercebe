#include <bits/stdc++.h>
using namespace std;
using ll = long long;
using vll = vector<ll>;
const int mod = 9973;

ll g(ll x, ll y) {
    x%=mod;
    ll x5 = ((((x*x)%mod) * ((x*x) % mod))%mod) * x;
    x5 %= mod;
    ll x3 = (x*x)%mod *  x;

    ll ans = ((y-1) * x5) % mod + x3 - x*y + 3*x + 7*y;
    ans %= mod;
    return ans;

}

const int block = 1e5;
ll vl[1001] = {0,-7381,-3267,4944,714,464,-3266,3198,8950,-628,5392,-9667,-2799,4396,4775,7358,-5432,5504,5452,806,1890,8598,8016,1375,-1811,-2746,-1974,-8542,3340,-6553,84,2025,-9152,-6588,-3859,1887,8138,-5561,-7611,-757,6520,5312,3096,-5375,963,-9771,3301,-5730,3266,3921,3149,8815,4310,9494,-9008,2364,-8971,-7768,4208,-193,2416,7663,2301,-4048,6194,8833,2839,-7963,-3249,2030,2835,3684,1595,6975,-9837,-9308,-7198,-2663,-1984,8706,-9893,8417,2468,8074,5070,6808,7684,-9749,2387,-4073,8614,2518,6927,5951,2475,7112,8674,917,6741,8169,-9231,8348,-1948,7350,-1848,1950,-8687,-2756,7686,6310,7696,-8259,5134,-2573,1336,6133,5994,6478,3307,-4704,-3150,6940,9590,-4322,-1583,792,2801,7081,-9523,-3256,9492,-2765,-8263,8748,6638,9220,-4777,6663,4979,-5165,7710,5227,3977,8090,5146,9652,-3277,-2519,9166,-7992,9444,2302,-6627,4560,594,3857,5529,4974,-9121,-9123,510,-1123,-3828,940,-242,4083,-173,1574,2722,341,118,3992,-3752,986,2148,665,-255,745,-6818,3235,6522,3189,719,-6014,-4903,6630,-5135,4796,8670,837,3213,6880,-7343,-58,-4088,9054,9257,-1508,2124,7615,-5474,-2502,-910,2425,910,3172,1524,9425,-1606,7663,6178,-7512,7757,7941,-5376,-6893,9137,-5521,7840,-8933,4565,9491,-5663,5112,-6800,-3785,-8578,9111,2102,5149,-9210,743,-5605,-5508,6561,1758,6298,6939,6663,-4141,1071,8347,839,9738,-1789,956,-2997,5612,7681,7957,-1098,2203,-9939,952,7422,8130,6875,-6150,-3024,-4388,-7285,4409,9393,9090,8578,-1038,4288,4859,6799,8340,9145,9787,4302,1426,75,5778,6482,2124,444,3148,1211,9298,4033,1024,-4645,7821,-9281,-9317,2106,8535,9480,9558,4684,2555,3710,1263,6944,6181,8391,4778,4056,960,2392,1313,5152,-9372,7491,-8389,2702,2897,-8156,-2567,9010,-4404,3983,-7573,-566,7338,9444,7298,8661,2452,7461,6181,4348,8907,-8170,8285,-2884,2641,-4506,-7411,9457,5296,1497,8542,4137,8556,3188,-8113,3358,7315,5399,-2672,8896,1412,2470,-6438,4299,5425,-7081,8046,7876,8131,878,650,2636,2964,-3679,-6918,2205,7465,5250,-5217,8655,-8627,8436,-8567,7792,-8505,8691,-1387,1657,703,7120,3258,-1723,7130,5454,-6444,1963,-5345,5053,4773,-3204,8720,-9606,5675,9831,-3852,2386,2082,9040,6706,2447,1098,9586,-6651,-288,8197,-1572,1272,6142,4544,4546,3757,7743,-7441,5314,3531,1047,7396,3706,4800,5912,-876,3413,7240,7911,-7230,3691,9512,-3780,-9131,2353,-9242,892,4442,1018,-9208,-3149,1281,-5584,8704,4663,3113,-1402,-6105,9608,5400,825,7325,4939,4790,-5790,5665,4615,-7045,5484,-4196,-2245,7423,2958,1440,-6334,8542,-1768,-3210,7579,6277,6797,-5454,-6144,5933,1510,1210,-1628,-4596,-6339,9146,1720,2482,6514,9536,-285,5693,7838,9256,9723,-9604,-1779,211,632,-674,241,-8049,-1744,4887,7415,-6566,9901,9433,9263,7485,6834,-167,5424,3282,4434,-7105,-7150,-215,7360,-2470,6606,2977,1846,2227,4083,2555,1952,-1400,7011,2813,-7906,-4023,9012,-1912,-7597,5350,9344,-8301,-7608,-6771,8491,2263,-5283,2349,-6121,95,5022,-9332,8211,6431,3528,7788,3295,-8368,-1071,6607,-8552,2282,9748,6034,-1564,-362,4967,7829,-8580,9420,-3857,-5639,3577,-1514,6003,7005,1411,2137,6550,-5262,-5462,-8129,-7987,-3995,7172,7657,8802,-7848,8589,-6163,1289,-3514,760,1332,2281,2038,-5818,-9482,-6421,-4262,-7840,9510,8083,4514,6239,2678,-3405,-1918,5765,-9084,7494,7323,4619,-6721,-3895,3861,2229,2428,7071,8087,-2675,8901,4282,4239,1157,-2923,7919,7367,-7830,8602,-4961,-8573,2226,-1136,506,889,-7146,-9383,2845,7154,9638,6641,9101,9100,9400,559,253,4696,-1736,-1835,-1220,5544,-155,8779,3294,3937,-4644,1017,-9396,2100,5968,4061,-2184,-8362,8386,-8767,-4629,4730,8141,1194,4029,-7221,-9281,774,-479,6558,796,2898,1145,5237,-5169,-7119,1948,4432,-3961,-4120,-7989,6815,-1675,-9722,9556,227,8366,71,7890,3645,218,333,71,-3891,924,4371,677,-1103,2058,-4833,5948,5296,4521,7653,1497,-1129,7797,2094,-7997,-525,-2398,4760,5517,2136,-4087,4597,5170,3481,2136,3311,-1353,4926,7018,423,-3895,-2903,2785,-3040,-9346,6509,4865,-15,6411,1511,2085,9576,-5174,-4990,8323,6062,2648,9940,-1090,1857,-6097,2075,5985,1150,2288,-673,6077,-3604,-891,105,268,-6678,-9100,-5683,-6305,8525,3727,9334,3013,-7405,2910,2605,-1527,-4164,-5389,-2980,6633,-9821,2064,-2211,8962,6914,9149,6776,3538,-3365,914,6298,880,3335,2970,1266,5095,-1770,-9168,-9456,919,5619,1071,-4102,-8958,1401,8706,7594,-6150,-1074,1402,-8773,-1731,7887,-6042,-2748,8167,8650,5088,1539,1716,1011,-3576,6950,-8870,-121,1893,605,4090,4097,-8233,-8090,-8994,5554,4872,6189,8101,611,-7472,-3129,6557,1461,9328,-8496,-5919,7115,5378,6228,-5807,-1023,1061,7692,1821,9745,346,9288,6960,2284,8251,9610,679,4125,1578,5828,-8854,8551,2782,9500,-9241,7482,-2477,-8293,9905,-7259,-9042,-9365,1407,3997,7173,-350,7940,2267,3401,5701,4454,-1798,4694,9364,7973,-5602,1189,4896,1870,9662,6530,3567,8090,-3693,-7836,-2678,-1821,-8648,18,9952,1722,-3310,8805,9345,-4142,8801,4090,5151,9930,-9175,4266,-7473,-4331,5154,-6540,451,-938,1967,-3842,2299,9888,3012,-261,7899,-4840,9826,-1796,-1832,-7414,-9607,7961,-7347,7518,5110,-3020,2509,-2927,4998,3220,-1070,-7082,6377,-2923,-11,6962,7244,5877,2787,4170,-1959,885,-8657,-3473,6702,-9530,6583,-4097,4321,-4956,9754,4461,-3443,6445,-8495,7476,4414,2807,8526,5726,1516,7731,9814,-7874,3083,4886,-2831,954,-4805,-3633,5769,3316,5547,2766,6888,7245,-2569,-5122,8823,862,-2127,-7818,-3440,8142,541,7780,2007,-5432,-7114,6374,3511,93,4518,-4793,5836,-8364,6150,-3647,7463,-6339,1010,-7102,5198,-2549,-9960,-2476,6088,4044,-4173,-1723,5152,9710};

int main() {
    ios::sync_with_stdio(0);
    cin.tie(0);
    ll N; cin>>N; 

    ll init = N/block; 
    ll a = vl[init];
    for (int i=(init*block)+1; i<=N; i++) {
        ll b = g(i,a);
        a = b;
    }
    a += mod; 
    a%=mod;
    cout << a << '\n';
}
